---
tags:
- Thymeleaf
- Spring Boot
- 프로젝트

---

<br/>

**목차**

1. <a href="#title1">[Create] Controller에 Thymeleaf Form 데이터 전송하기</a>
2. <a href="#title2">[Read] form에서 th:each 반복문 사용하기</a>
3. <a href="#title3">[Update/Delete] 수정/삭제 하기</a>

<br/><br/>

```
Spring Boot와 Thymeleaf 환경설정 및 사용법
```

<br/>

**Student** 객체를 생성하고 Spring Controller와 Tymeleaf를 이용하여 학생 정보를 **CRUD** 하는 간단한 예제를 실습해보도록 하겠다.

<br/><br/>

##### 디렉토리 구조

<img width="260" alt="스크린샷 2021-03-31 오후 9 46 37" src="https://user-images.githubusercontent.com/33229855/113146407-9772bd80-926a-11eb-8920-e90221e179cf.png">

<br/>

<br/>

<h3 id="title1">
  1. [Create] Controller에 Thymeleaf Form 데이터 전송하기
</h3>

<br/>







<br/>


<br/>

<h3 id="title2">2. [Read] form에서 th:each 반복문 사용하기]</h3>

thymleaf에서는 `th:each` 를 사용해서 List, Map 등을 반복 접근할 수 있다.

`th:each`를 이용한 객체 접근과 `~~stat`를 이용하여 **index, count** 접근 방법들을 살펴보려고 한다.

Controller에서 `List<Student>` 를 넘기고, 타임리프에서 모든 Student 정보를 출력하는 예제를 진행해보았다.

<br/>

##### 1) StudentController.java

```java
package com.example.spring.controller;

import lombok.extern.slf4j.Slf4j;

import java.util.List;

import com.example.spring.model.Student;
import com.example.spring.service.StudentService;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;

@Slf4j
@Controller
@RequestMapping("student")
public class StudentController {

    @Autowired
    StudentService studentSerivce;

    @RequestMapping("/selectAllStudentInfo")
    ModelAndView selectAllStudentInfo() {
        ModelAndView mav = new ModelAndView("student/selectAllStudentInfo");
        
        List<Student> studentList = studentSerivce.selectStudentList();
        
        mav.addObject("title", "selectStudentInfo()");
        // 여기서 지정한 이름(studentList)를 이용하여 타임리프에서 데이터에 접근할 수 있다.
        mav.addObject("studentList", studentList);
        
        return mav;
    }
}
```

<br/>

##### 2. student/selectAllStudentInfo.html

```html
<!DOCTYPE html>
<html>
  <head>
    <title>Student List</title>
  </head>
  <body>
    <div>
      <table id="studentTable">
        <tr>
          <th>순서</th>
          <th>ID</th>
          <th>Name</th>
          <th>Age</th>
          <th>Birth</th>
        </tr>
        <!-- th: each를 이용하면 반복문을 이용할 수 있다. -->
        <!-- th:each="student, studentStat: ${studentList}" 와 동일하며
				  status를 명시하지 않더라도 앞의 "오브젝트명stat" 를 이용하여 접근 가능하다. -->
        <tr th:each="student: ${studentList}">
          <td th:text="${studentStat.index+1}"></td>
          <td th:text="${student.id}"></td>
          <td th:text="${student.name}"></td>
          <td th:text="${student.age}"></td>
          <td th:text="${student.birth}"></td>
        </tr>
      </table>
    </div>
  </body>
</html>
```

<br/>

##### 결과 화면

<img width="442" alt="스크린샷 2021-03-31 오후 9 50 52" src="https://user-images.githubusercontent.com/33229855/113146878-2b448980-926b-11eb-8e16-193851d3b438.png">

<br/><br/>

<br/>

<h3 id="title3">3. [Update/Delete] 수정/삭제 하기</h3>

<br/><br/><br/>





<br/><br/><br/>